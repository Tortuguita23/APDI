<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atención a personas en situación de dependencia en instituciones</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero">
    <img src="assets/logo.svg" alt="Logotipo del centro" class="hero__logo">
    <div class="hero__text">
      <h1>Atención a personas en situación de dependencia en instituciones</h1>
      <p class="hero__subtitle">Pautas de corrección de actividades formativas</p>
    </div>
  </header>

  <main>
    <section class="module">
      <h2>MF1016: Apoyo psicosocial a personas en situación de dependencia en instituciones</h2>
      <p>
        Accede a los documentos de corrección de las actividades diarias de aprendizaje y refuerzo de las competencias
        profesionales en contextos institucionales de apoyo a la dependencia.
      </p>
    </section>

    <section class="unit">
      <h3>UF128: Apoyo para la organización de actividades para personas en situación de dependencia en instituciones</h3>
    </section>

    <section class="access">
      <h2>Acceso al documento</h2>
      <p>Introduce el código que te he facilitado para acceder directamente a las pautas de corrección.</p>
      <form class="access__form" id="driveAccessForm">
        <label for="accessCode" class="access__label">Código de acceso</label>
        <input type="text" id="accessCode" name="accessCode" class="access__input" placeholder="Introduce tu código" required>
        <button type="submit" class="access__button">Abrir documento</button>
        <p class="access__help">Asegúrate de copiar bien el código :) </p>
      </form>
      <p class="access__error" id="accessError" role="alert" aria-live="polite"></p>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; <span id="currentYear"></span> Recurso creado por Graciela Cano. Todos los derechos reservados.</p>
  </footer>

  <!-- Todo el JS en un único bloque y sin llaves sueltas -->
  <script>
    const accessCodes = {
      '1709': 'https://drive.google.com/file/d/1CmLdZ6-L8uEfOXxBBAkE1_zc01zyxxII/view?usp=drive_link',
      '1609': 'https://drive.google.com/file/d/13aFtV6XQjffiqrr5XwRzpjHuEriCZNir/view?usp=drive_link',
      '1909': 'https://drive.google.com/file/d/1QAsDtEqPWFIpN332BagdeIzpcSSCKlb7/view?usp=drive_link',
      '2209': 'https://drive.google.com/file/d/1JYqeuSuE7NRjEqIiertuZkV_U9-xrNRg/view?usp=sharing',
      '2309':'https://drive.google.com/file/d/1UhD0Y2dR8Q0edlEKotG5VZGZx0DZK5I6/view?usp=sharing'
    };

    const form = document.getElementById('driveAccessForm');
    const codeInput = document.getElementById('accessCode');
    const errorMessage = document.getElementById('accessError');
    const currentYearElement = document.getElementById('currentYear');

    if (currentYearElement) {
      currentYearElement.textContent = new Date().getFullYear();
    }

    if (form) {
      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const code = (codeInput.value || '').trim();

        const url = accessCodes[code];
        if (url) {
          // nueva pestaña (seguro) o usa window.location.href = url; para misma pestaña
          window.open(url, '_blank', 'noopener,noreferrer');
          errorMessage.textContent = '';
          form.reset();
        } else {
          errorMessage.textContent = 'Código no válido. Verifica la información y vuelve a intentarlo.';
        }
      });
    }
  </script>
</body>
</html>
